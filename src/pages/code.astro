---
import BaseLayout from '../layouts/BaseLayout.astro';
import BannerComponent from '../components/BannerComponent.astro';

const config = {
    title: "Ryan Bucinell - Code",
        breadcrumbs: [
            {fa:"home", text:"Home", url:"index.html"},
            {fa:"settings", text:"Projects" },
            {fa:"code", text:"Code", url:"#"}
        ],
        page: {
            title: 'Code',
            small: 'coding projects here and there'
    }
};
const response = await Astro.glob('../../public/data/code/code.json');
const json = JSON.parse(JSON.stringify(response[0])).default;
---
<BaseLayout config={config}>
    <BannerComponent id="github">
        <a class="flex-fill list-group-action text-dark" href="http://github.com/rbucinell/" target="_blank" rel="noopener">
            <i class="devicon-github-original display-5"/>&nbsp;<span class="">Check out my Github for my latest code!</span>
        </a>
    </BannerComponent>
    <ul id="codeList">
        {json.map( obj =>{
            return(
            <li id={obj['@id']} class="cell locked">
                <img src={obj.icon} width="64" height="64">
                <div class="media-body mx-2">
                    <h5 class="m-1"><a href={obj.hostedUrl}>{obj.name}</a></h5>
                    <p>{obj.description}</p>
                </div>
            </li>

            );
        })}
    </ul>
</BaseLayout>