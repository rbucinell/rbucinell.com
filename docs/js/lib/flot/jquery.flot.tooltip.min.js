!function(s){function o(t){this.tipPosition={x:0,y:0},this.init(t)}o.prototype.init=function(t){function i(t){var o={};o.x=t.pageX,o.y=t.pageY,n.updateTooltipPosition(o)}function e(t,o,i){var e,s=n.getDomElement();i?(e=n.stringFormat(n.tooltipOptions.content,i),s.html(e),n.updateTooltipPosition({x:o.pageX,y:o.pageY}),s.css({left:n.tipPosition.x+n.tooltipOptions.shifts.x,top:n.tipPosition.y+n.tooltipOptions.shifts.y}).show(),"function"==typeof n.tooltipOptions.onHover&&n.tooltipOptions.onHover(i,s)):s.hide().html("")}var n=this;t.hooks.bindEvents.push(function(t,o){n.plotOptions=t.getOptions(),!1!==n.plotOptions.tooltip&&void 0!==n.plotOptions.tooltip&&(n.tooltipOptions=n.plotOptions.tooltipOpts,n.getDomElement(),s(t.getPlaceholder()).bind("plothover",e),s(o).bind("mousemove",i))}),t.hooks.shutdown.push(function(t,o){s(t.getPlaceholder()).unbind("plothover",e),s(o).unbind("mousemove",i)})},o.prototype.getDomElement=function(){var t;return 0<s("#flotTip").length?t=s("#flotTip"):((t=s("<div />").attr("id","flotTip")).appendTo("body").hide().css({position:"absolute"}),this.tooltipOptions.defaultTheme&&t.css({background:"#fff","z-index":"100",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111",display:"none","white-space":"nowrap"})),t},o.prototype.updateTooltipPosition=function(t){var o=s("#flotTip").outerWidth()+this.tooltipOptions.shifts.x,i=s("#flotTip").outerHeight()+this.tooltipOptions.shifts.y;t.x-s(window).scrollLeft()>s(window).innerWidth()-o&&(t.x-=o),t.y-s(window).scrollTop()>s(window).innerHeight()-i&&(t.y-=i),this.tipPosition.x=t.x,this.tipPosition.y=t.y},o.prototype.stringFormat=function(t,o){var i=/%x\.{0,1}(?:\d{0,})/,e=/%y\.{0,1}(?:\d{0,})/;return"function"==typeof t&&(t=t(o.series.label,o.series.data[o.dataIndex][0],o.series.data[o.dataIndex][1],o)),void 0!==o.series.percent&&(t=this.adjustValPrecision(/%p\.{0,1}(\d{0,})/,t,o.series.percent)),void 0!==o.series.label&&(t=t.replace(/%s/,o.series.label)),this.isTimeMode("xaxis",o)&&this.isXDateFormat(o)&&(t=t.replace(i,this.timestampToDate(o.series.data[o.dataIndex][0],this.tooltipOptions.xDateFormat))),this.isTimeMode("yaxis",o)&&this.isYDateFormat(o)&&(t=t.replace(e,this.timestampToDate(o.series.data[o.dataIndex][1],this.tooltipOptions.yDateFormat))),"number"==typeof o.series.data[o.dataIndex][0]&&(t=this.adjustValPrecision(i,t,o.series.data[o.dataIndex][0])),"number"==typeof o.series.data[o.dataIndex][1]&&(t=this.adjustValPrecision(e,t,o.series.data[o.dataIndex][1])),void 0!==o.series.xaxis.tickFormatter&&(t=t.replace(i,o.series.xaxis.tickFormatter(o.series.data[o.dataIndex][0],o.series.xaxis))),t=void 0!==o.series.yaxis.tickFormatter?t.replace(e,o.series.yaxis.tickFormatter(o.series.data[o.dataIndex][1],o.series.yaxis)):t},o.prototype.isTimeMode=function(t,o){return void 0!==o.series[t].options.mode&&"time"===o.series[t].options.mode},o.prototype.isXDateFormat=function(){return void 0!==this.tooltipOptions.xDateFormat&&null!==this.tooltipOptions.xDateFormat},o.prototype.isYDateFormat=function(){return void 0!==this.tooltipOptions.yDateFormat&&null!==this.tooltipOptions.yDateFormat},o.prototype.timestampToDate=function(t,o){t=new Date(t);return s.plot.formatDate(t,o)};s.plot.plugins.push({init:function(t){new o(t)},options:{tooltip:!(o.prototype.adjustValPrecision=function(t,o,i){var e;return null!==o.match(t)&&""!==RegExp.$1&&(e=RegExp.$1,i=i.toFixed(e),o=o.replace(t,i)),o}),tooltipOpts:{content:"%s | X: %x | Y: %y",xDateFormat:null,yDateFormat:null,shifts:{x:10,y:20},defaultTheme:!0,onHover:function(){}}},name:"tooltip",version:"0.6.1"})}(jQuery);