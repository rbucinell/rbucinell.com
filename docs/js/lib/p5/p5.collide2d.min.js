console.log("### p5.collide ###"),p5.prototype._collideDebug=!1,p5.prototype.collideDebug=function(i){_collideDebug=i},p5.prototype.collideRectRect=function(i,t,e,o,l,n,r,c){return i+e>=l&&l+r>=i&&t+o>=n&&n+c>=t},p5.prototype.collideRectCircle=function(i,t,e,o,l,n,r){var c=l,p=n;return i>l?c=i:l>i+e&&(c=i+e),t>n?p=t:n>t+o&&(p=t+o),r/2>=this.dist(l,n,c,p)},p5.prototype.collideCircleCircle=function(i,t,e,o,l,n){return this.dist(i,t,o,l)<=e/2+n/2},p5.prototype.collidePointCircle=function(i,t,e,o,l){return this.dist(i,t,e,o)<=l/2},p5.prototype.collidePointRect=function(i,t,e,o,l,n){return i>=e&&e+l>=i&&t>=o&&o+n>=t},p5.prototype.collidePointLine=function(i,t,e,o,l,n,r){var c=this.dist(i,t,e,o),p=this.dist(i,t,l,n),s=this.dist(e,o,l,n);return void 0===r&&(r=.1),c+p>=s-r&&s+r>=c+p},p5.prototype.collideLineCircle=function(i,t,e,o,l,n,r){var c=this.collidePointCircle(i,t,l,n,r),p=this.collidePointCircle(e,o,l,n,r);if(c||p)return!0;var s=i-e,d=t-o,h=this.sqrt(s*s+d*d),u=((l-i)*(e-i)+(n-t)*(o-t))/this.pow(h,2),y=i+u*(e-i),f=t+u*(o-t);return!!this.collidePointLine(y,f,i,t,e,o)&&(this._collideDebug&&this.ellipse(y,f,10,10),s=y-l,d=f-n,r/2>=this.sqrt(s*s+d*d))},p5.prototype.collideLineLine=function(i,t,e,o,l,n,r,c,p){var s=((r-l)*(t-n)-(c-n)*(i-l))/((c-n)*(e-i)-(r-l)*(o-t)),d=((e-i)*(t-n)-(o-t)*(i-l))/((c-n)*(e-i)-(r-l)*(o-t));if(s>=0&&1>=s&&d>=0&&1>=d){if(this._collideDebug||p)var h=i+s*(e-i),u=t+s*(o-t);return this._collideDebug&&this.ellipse(h,u,10,10),!p||{x:h,y:u}}return!!p&&{x:!1,y:!1}},p5.prototype.collideLineRect=function(i,t,e,o,l,n,r,c,p){var s,d,h,u,y;return p?(s=this.collideLineLine(i,t,e,o,l,n,l,n+c,!0),d=this.collideLineLine(i,t,e,o,l+r,n,l+r,n+c,!0),h=this.collideLineLine(i,t,e,o,l,n,l+r,n,!0),u=this.collideLineLine(i,t,e,o,l,n+c,l+r,n+c,!0),y={left:s,right:d,top:h,bottom:u}):(s=this.collideLineLine(i,t,e,o,l,n,l,n+c),d=this.collideLineLine(i,t,e,o,l+r,n,l+r,n+c),h=this.collideLineLine(i,t,e,o,l,n,l+r,n),u=this.collideLineLine(i,t,e,o,l,n+c,l+r,n+c)),!!(s||d||h||u)&&(!p||y)},p5.prototype.collidePointPoly=function(i,t,e){for(var o=!1,l=0,n=0;n<e.length;n++){(l=n+1)==e.length&&(l=0);var r=e[n],c=e[l];(r.y>t&&c.y<t||r.y<t&&c.y>t)&&i<(c.x-r.x)*(t-r.y)/(c.y-r.y)+r.x&&(o=!o)}return o},p5.prototype.collideCirclePoly=function(i,t,e,o,l){void 0==l&&(l=!1);for(var n=0,r=0;r<o.length;r++){(n=r+1)==o.length&&(n=0);var c=o[r],p=o[n];if(this.collideLineCircle(c.x,c.y,p.x,p.y,i,t,e))return!0}return!(1!=l||!this.collidePointPoly(i,t,o))},p5.prototype.collideRectPoly=function(i,t,e,o,l,n){void 0==n&&(n=!1);for(var r=0,c=0;c<l.length;c++){(r=c+1)==l.length&&(r=0);var p=l[c],s=l[r];if(this.collideLineRect(p.x,p.y,s.x,s.y,i,t,e,o))return!0;if(1==n&&this.collidePointPoly(i,t,l))return!0}return!1},p5.prototype.collideLinePoly=function(i,t,e,o,l){for(var n=0,r=0;r<l.length;r++){(n=r+1)==l.length&&(n=0);var c=l[r].x,p=l[r].y,s=l[n].x,d=l[n].y;if(this.collideLineLine(i,t,e,o,c,p,s,d))return!0}return!1},p5.prototype.collidePolyPoly=function(i,t,e){void 0==e&&(e=!1);for(var o=0,l=0;l<i.length;l++){(o=l+1)==i.length&&(o=0);var n=i[l],r=i[o],c=this.collideLinePoly(n.x,n.y,r.x,r.y,t);if(c)return!0;if(1==e&&(c=this.collidePointPoly(t[0].x,t[0].y,i)))return!0}return!1},p5.prototype.collidePointTriangle=function(i,t,e,o,l,n,r,c){var p=this.abs((l-e)*(c-o)-(r-e)*(n-o));return this.abs((e-i)*(n-t)-(l-i)*(o-t))+this.abs((l-i)*(c-t)-(r-i)*(n-t))+this.abs((r-i)*(o-t)-(e-i)*(c-t))==p},p5.prototype.collidePointPoint=function(i,t,e,o,l){return void 0==l&&(l=0),this.dist(i,t,e,o)<=l},p5.prototype.collidePointArc=function(i,t,e,o,l,n,r,c){void 0==c&&(c=0);var p=this.createVector(i,t),s=this.createVector(e,o),d=this.createVector(l,0).rotate(n),h=p.copy().sub(s);if(p.dist(s)<=l+c){var u=d.dot(h),y=d.angleBetween(h);if(u>0&&r/2>=y&&y>=-r/2)return!0}return!1};