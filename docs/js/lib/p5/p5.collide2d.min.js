console.log("### p5.collide ###"),p5.prototype._collideDebug=!1,p5.prototype.collideDebug=function(t){_collideDebug=t},p5.prototype.collideRectRect=function(t,i,e,o,l,n,r,c){return l<=t+e&&t<=l+r&&n<=i+o&&i<=n+c},p5.prototype.collideRectCircle=function(t,i,e,o,l,n,r){var c=l,p=n;return l<t?c=t:t+e<l&&(c=t+e),n<i?p=i:i+o<n&&(p=i+o),this.dist(l,n,c,p)<=r/2},p5.prototype.collideCircleCircle=function(t,i,e,o,l,n){return this.dist(t,i,o,l)<=e/2+n/2},p5.prototype.collidePointCircle=function(t,i,e,o,l){return this.dist(t,i,e,o)<=l/2},p5.prototype.collidePointRect=function(t,i,e,o,l,n){return e<=t&&t<=e+l&&o<=i&&i<=o+n},p5.prototype.collidePointLine=function(t,i,e,o,l,n,r){var c=this.dist(t,i,e,o),t=this.dist(t,i,l,n),i=this.dist(e,o,l,n);return i-(r=void 0===r?.1:r)<=c+t&&c+t<=i+r},p5.prototype.collideLineCircle=function(t,i,e,o,l,n,r){var c=this.collidePointCircle(t,i,l,n,r),p=this.collidePointCircle(e,o,l,n,r);if(c||p)return!0;var c=t-e,p=i-o,s=this.sqrt(c*c+p*p),s=((l-t)*(e-t)+(n-i)*(o-i))/this.pow(s,2),u=t+s*(e-t),s=i+s*(o-i);return!!this.collidePointLine(u,s,t,i,e,o)&&(this._collideDebug&&this.ellipse(u,s,10,10),this.sqrt((c=u-l)*c+(p=s-n)*p)<=r/2)},p5.prototype.collideLineLine=function(t,i,e,o,l,n,r,c,p){var s,u,d=((r-l)*(i-n)-(c-n)*(t-l))/((c-n)*(e-t)-(r-l)*(o-i)),c=((e-t)*(i-n)-(o-i)*(t-l))/((c-n)*(e-t)-(r-l)*(o-i));return 0<=d&&d<=1&&0<=c&&c<=1?((this._collideDebug||p)&&(s=t+d*(e-t),u=i+d*(o-i)),this._collideDebug&&this.ellipse(s,u,10,10),!p||{x:s,y:u}):!!p&&{x:!1,y:!1}},p5.prototype.collideLineRect=function(t,i,e,o,l,n,r,c,p){var s,u,d,h,y;return p?y={left:s=this.collideLineLine(t,i,e,o,l,n,l,n+c,!0),right:u=this.collideLineLine(t,i,e,o,l+r,n,l+r,n+c,!0),top:d=this.collideLineLine(t,i,e,o,l,n,l+r,n,!0),bottom:h=this.collideLineLine(t,i,e,o,l,n+c,l+r,n+c,!0)}:(s=this.collideLineLine(t,i,e,o,l,n,l,n+c),u=this.collideLineLine(t,i,e,o,l+r,n,l+r,n+c),d=this.collideLineLine(t,i,e,o,l,n,l+r,n),h=this.collideLineLine(t,i,e,o,l,n+c,l+r,n+c)),!!(s||u||d||h)&&(!p||y)},p5.prototype.collidePointPoly=function(t,i,e){for(var o=!1,l=0,n=0;n<e.length;n++){(l=n+1)==e.length&&(l=0);var r=e[n],c=e[l];(r.y>i&&c.y<i||r.y<i&&c.y>i)&&t<(c.x-r.x)*(i-r.y)/(c.y-r.y)+r.x&&(o=!o)}return o},p5.prototype.collideCirclePoly=function(t,i,e,o,l){null==l&&(l=!1);for(var n=0,r=0;r<o.length;r++){(n=r+1)==o.length&&(n=0);var c=o[r],p=o[n];if(this.collideLineCircle(c.x,c.y,p.x,p.y,t,i,e))return!0}if(1==l&&this.collidePointPoly(t,i,o))return!0;return!1},p5.prototype.collideRectPoly=function(t,i,e,o,l,n){null==n&&(n=!1);for(var r=0,c=0;c<l.length;c++){(r=c+1)==l.length&&(r=0);var p=l[c],s=l[r];if(this.collideLineRect(p.x,p.y,s.x,s.y,t,i,e,o))return!0;if(1==n)if(this.collidePointPoly(t,i,l))return!0}return!1},p5.prototype.collideLinePoly=function(t,i,e,o,l){for(var n=0,r=0;r<l.length;r++){(n=r+1)==l.length&&(n=0);var c=l[r].x,p=l[r].y,s=l[n].x,u=l[n].y;if(this.collideLineLine(t,i,e,o,c,p,s,u))return!0}return!1},p5.prototype.collidePolyPoly=function(t,i,e){null==e&&(e=!1);for(var o=0,l=0;l<t.length;l++){(o=l+1)==t.length&&(o=0);var n=t[l],r=t[o];if(this.collideLinePoly(n.x,n.y,r.x,r.y,i))return!0;if(1==e&&this.collidePointPoly(i[0].x,i[0].y,t))return!0}return!1},p5.prototype.collidePointTriangle=function(t,i,e,o,l,n,r,c){var p=this.abs((l-e)*(c-o)-(r-e)*(n-o));return this.abs((e-t)*(n-i)-(l-t)*(o-i))+this.abs((l-t)*(c-i)-(r-t)*(n-i))+this.abs((r-t)*(o-i)-(e-t)*(c-i))==p},p5.prototype.collidePointPoint=function(t,i,e,o,l){return null==l&&(l=0),this.dist(t,i,e,o)<=l},p5.prototype.collidePointArc=function(t,i,e,o,l,n,r,c){null==c&&(c=0);t=this.createVector(t,i),i=this.createVector(e,o),e=this.createVector(l,0).rotate(n),o=t.copy().sub(i);if(t.dist(i)<=l+c){n=e.dot(o),t=e.angleBetween(o);if(0<n&&t<=r/2&&-r/2<=t)return!0}return!1};