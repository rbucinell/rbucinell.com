<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

		<!-- Optional theme -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
		<style>
			.glyphicon { margin-right:5px; }
			.thumbnail
			{
				margin-bottom: 20px;
				padding: 0px;
				-webkit-border-radius: 0px;
				-moz-border-radius: 0px;
				border-radius: 0px;
			}

			.item.list-group-item
			{
				float: none;
				width: 100%;
				background-color: #fff;
				margin-bottom: 10px;
			}
			.item.list-group-item:nth-of-type(odd):hover,.item.list-group-item:hover
			{
				background: #428bca;
			}

			.item.list-group-item .list-group-image
			{
				margin-right: 10px;
			}
			.item.list-group-item .thumbnail
			{
				margin-bottom: 0px;
			}
			.item.list-group-item .caption
			{
				padding: 9px 9px 0px 9px;
			}
			.item.list-group-item:nth-of-type(odd)
			{
				background: #eeeeee;
			}

			.item.list-group-item:before, .item.list-group-item:after
			{
				display: table;
				content: " ";
			}

			.item.list-group-item img
			{
				float: left;
			}
			.item.list-group-item:after
			{
				clear: both;
			}
			.list-group-item-text
			{
				margin: 0 0 11px;
			}
			.thumbnail h4{
				text-align:center;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="panel panel-default"> <div class="panel-body">Champion's without Chests</div></div>

			<div id="champions" class="row list-group">			
				<!--<div class="item  col-xs-4 col-lg-2">
					<div class="thumbnail">
						<img class="group list-group-image" src="http://placehold.it/64x64/000/fff" alt="" />
					<h4 class="center group inner list-group-item-heading">Champion</h4>
					</div>
				</div>-->
				
			</div>
			
			<div id="champions" class="row list-group">	
				<div class="panel panel-default"> <div class="panel-body">Champion's with Chests</div></div>
				
				<div class="item  col-xs-4 col-lg-2">
					<div class="thumbnail">
						<img class="group list-group-image" src="http://placehold.it/64x64/000/fff" alt="" />
					<h4 class="center group inner list-group-item-heading">Champion</h4>
					</div>
				</div>
				
			</div>
			
		</div>
		<script>
			
			var IMG_ROOT = "http://ddragon.leagueoflegends.com/cdn/6.20.1/img/champion/";
			var region = "NA1";				
			var API_KEY = "4de808d8-c3d3-4dd8-b7a3-a6521b2f3b78";
			var summoner_id = "309308";
			
			var createYqlUrl = function( apiQuery )
			{
				return 'http://query.yahooapis.com/v1/public/yql?q=' + encodeURIComponent('select * from json where url="' + apiQuery + '"') + "&format=json&callback=";
			}
			
			var url_champion_static = "https://global.api.pvp.net/api/lol/static-data/na/v1.2/champion?locale=en_US&dataById=true&champData=all&api_key=" + API_KEY;
			var yql_static = createYqlUrl( url_champion_static );
			
			var url_champion_mastery = "https://na.api.pvp.net/championmastery/location/NA1/player/"+summoner_id+"/champions?api_key="+API_KEY;			
			var yql_mastery = createYqlUrl( url_champion_mastery );
				
			var championAr = [];
			
			
			
			$(function(){
												
				$.ajax({
					url: yql_mastery
				}).done(function (json) {
					var champArr = json.query.results.json.json;
					
					for( var i = 0; i < champArr.length; i++ )
					{
						//console.log( i,": ", champArr[i] );
						var champID = champArr[i].championId;
						var champLevel = champArr[i].championLevel;
						var champPoints = champArr[i].championPoints;
						var champChest = champArr[i].chestGranted;
						
						console.log( champID, champLevel, champPoints, champChest );
					}
				});
				
				$.ajax({
					url: yql_static
				}).done(function(json){
				
					console.log( json );
					
					var arr = $.map( json.data, function(value, index) { return [value]; });
					
					for( var i = 0; i < arr.length; i++ )
					{
						championAr.push( cur );
						var cur = arr[i];
						var id = cur.id;
						var key = cur.key;
						var imgName = cur.image.full;
						var imgPath = IMG_ROOT + imgName;
						
						$("#champions").append(createItem( key, imgPath ));
					}
				});				
			});	
			
			
			
			
			function createItem( name, imgurl)
			{
				var  itemDiv = document.createElement( 'div' );
				itemDiv.setAttribute("class", "item col-xs-2 col-lg-2");
				
				var thumbnailDiv = document.createElement( 'div');
				thumbnailDiv.setAttribute("class", "thumbnail");
				
				var imgElement = document.createElement('img');
				imgElement.setAttribute("class", "group list-group-image");
				imgElement.width = 64;
				imgElement.height = 64;
				
				imgElement.src = imgurl;				
				thumbnailDiv.appendChild(imgElement);
				
				var h4 = document.createElement('h4');
				h4.setAttribute("class", "center group inner list-group-item-heading" );
				h4.innerText = name;
				thumbnailDiv.appendChild(h4);
				
				itemDiv.appendChild(thumbnailDiv);
				return itemDiv;
			}
		</script>
		
	</body>
</html>