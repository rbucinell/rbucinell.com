<!DOCTYPE html>
<!--THIS PAGE IS GENERATED BY JADE. DO NOT EDIT, YOU'LL LOSE YOUR CHANGES-->
<html>
  <head>
    <title>NACKA App</title>
    <meta charset="utf-8">
    <meta name="HandheldFriendly" content="True">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="viewport" content="width=device-width" initial-scale="1.0">
    <link rel="stylesheet" href="http://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="css/materialize.min.css" media="screen,projection">
    <link rel="stylesheet" href="css/nacka_styles.css">
  </head>
  <body>
    <header>
      <nav class="top-nav">
        <div class="container"><a hef="#" data-activates="slide-out" class="button-collapse"><i class="mdi-navigation-menu"></i></a>
          <div class="nav-wrapper"><a class="page-title">NACKA | All Teams Playing</a></div>
          <ul id="slide-out" class="side-nav white">
            <li class="logo"><a id="logo-container" href="http://www.rbucinell.com" class="brand-logo"><img src="img/nacka_logo.svg" alt="NACKA Logo"></a></li>
            <ul data-collapsible="accordian" class="collapsible collapsible-accordion">
              <li class="grey darken-3"><a class="collapsible-header white-text waves-effect waves-red">NACKA News</a>
                <div class="collapsible-body">
                  <ul>
                              <li class="grey darken-3"><a href="#!" class="white-text waves-effect waves-red">News</a></li>
                              <li class="grey darken-3"><a href="#!" class="white-text waves-effect waves-red">Photos</a></li>
                              <li class="grey darken-3"><a href="#!" class="white-text waves-effect waves-red">Videos</a></li>
                  </ul>
                </div>
              </li>
              <li class="grey darken-3"><a class="collapsible-header white-text waves-effect waves-red">Schedules</a>
                <div class="collapsible-body">
                  <ul>
                              <li class="grey darken-3"><a href="#!" class="white-text waves-effect waves-red">All Teams</a></li>
                              <li class="grey darken-3"><a href="#!" class="white-text waves-effect waves-red">My Teams</a></li>
                              <li class="grey darken-3"><a href="#!" class="white-text waves-effect waves-red">Tonight's Games</a></li>
                  </ul>
                </div>
              </li>
            </ul>
                      <li class="grey darken-3"><a href="#!" class="white-text waves-effect waves-red">Fields</a></li>
                      <li class="grey darken-3"><a href="#!" class="white-text waves-effect waves-red">Rules</a></li>
                      <li class="grey darken-3"><a href="#!" class="white-text waves-effect waves-red">About</a></li>
                      <li class="grey darken-3"><a href="#!" class="white-text waves-effect waves-red">Home</a></li>
          </ul>
        </div>
      </nav>
    </header>
    <main>
      <div class="page-content container">
        <ul id="teamlist" class="collection"></ul>
      </div>
    </main>
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="js/materialize.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/Colors.js"></script>
    <script src="js/Team.js"></script>
    <script src="js/Matchup.js"></script>
    <script>$(".button-collapse").sideNav();</script>
    <script>
      
      $(function(){
      	var url = ROOT_URL + "aplsteamlist.htm";
      	var yql = getYqlUrlForPage( url );
      	$.getJSON( yql, readYQL);
      	
      	function readYQL( data )
      	{
      		var htmlbody = data.query.results.body;
      		var listOfTeams = htmlbody.table[2].tbody.tr.td[1].ul.li;
      		for( li in listOfTeams )
      		{						
      			var anchor = listOfTeams[li].a;	
      									
      			var tName 	= Team.ExtractNameFromRaw( anchor.content );
      			var tColor	= Team.ExtractColorFromRaw( anchor.content );
      		
      			var team = new Team( tName, tColor, anchor.href );
      			var newLI = buildCollectionItem( team );
      			$("#teamlist").append( newLI );
      		}					
      	}
      	
      	function buildCollectionItem( team )
      	{	
      		var li =$("<li class=\"collection-item avatar tshirt-avatar\"></li>");
      		
      		var newIMG =$("<img class=\"circle tshirt-img\" src=\"img/shirt_hollow_template_white.png\">");					
      		Team.SetElementBackground( newIMG, team );						
      		$(li).append(newIMG);
      		
      		var newTitle = $("<span class=\"title\"></span>").text(team.Name);
      		$(li).append(newTitle);						
      		
      		var pageURL = "teampage.html?name=" + encodeURIComponent(team.Name) + "&url=" + team.URL;
      		var secondary = $("<a href=\""+ pageURL +"\" class=\"secondary-content\"><i class=\"material-icons\">send</i></a>");
      		
      		$(li).append( secondary );
      		
      		return li;
      	}
      });
    </script>
  </body>
</html>